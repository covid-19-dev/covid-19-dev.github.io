<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>COVID-19 Analytics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    
    <script src="https://use.fontawesome.com/beed62a6a7.js"></script>
    
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML">
    </script>
    
    <style>
       .floating_box {
        width: 115px;
        position: fixed;
        top: 0px;
        height: 30px;
        background-color: white;
      }
    </style>
    
  </head>
  <body>
    <section class="page-header">
      <h1 class="">COVID-19 Analytics (Data up to 27 October 2020)</h1>
<!--       <h1 class="project-name"> COVID-19 Analytics </h1> -->
      <h2 class="project-tagline"></h2>
    </section>

    <section class="main-content">
      <!-- <h3><a id="covid-19-analytics" class="anchor" href="#covid-19-analytics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>COVID-19 Analytics</h3> -->
      
      <p>
        This dashboard presents the latest pandemic risk assessment using the methodology in 
        “On Topological Properties of COVID-19: Predicting and Controling Pandemic Risk with Network Statistics”. 
      </p>
      
      <p>
        The below plots show the time series evolution of the network statistics of the dynamic pandemic networks of COVID-19.
      </p>

      <iframe id="dashboard_netStat" src="https://7442151044e8.ngrok.io" width="100%" height="720" style=""></iframe>
      
      <p>
        The statistics presented below include the preparedness risk score (PRS) denoted by \(S_{1t}\), 
        the severity risk score (SRS) denoted by \(S_{2t}\), the respective risk contributions, denoted by \(f_{it}\) and \(g_{it}\), 
        of each country and of each WHO’s region: Africa, America, Asia, Eastern Mediterranean and Europe.   
      </p>
      
      <p>
        When using the proposed risk scores and risk contributions, please note the followings.
        <ul>
          <li>Select \(S_{1t}\) if PRS for preparedness is needed.  Select \(S_{2t}\) if SRS for severity assessment is needed.</li>
          <li>Then the corresponding risk contributions, \(f_{it}\) (if \(S_{1t}\) is selected), or \(g_{it}\) (if \(S_{2t}\) is selected) will be shown in other figures.</li>
        </ul>
      <p>
      
      <!--<iframe src="xxxxxxx" width="100%" height="1000" style="border:none;"></iframe>-->
      <iframe id="dashboard" src="https://d13ef7c99d4e.ngrok.io" width="100%" height="2400" style=""></iframe>
      


      <footer class="site-footer">
        <span class="site-footer-credits"
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              Updated at <span id= "updated_at">
        </span>
        <span class="site-footer-credits">
          <i class="fa fa-archive" aria-hidden="true"></i>
          <span id= "app_version">
        </span>  <br />

      </footer>

    </section>
    
    <div class="floating_box">
      <a href="javascript:void(0)" onclick="reload_iframe()">Click to Reload</a>
    </div>

  
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-172410617-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-172410617-1');
    </script>

    <script>
      const headers = new Headers()
      headers.append("Content-Type", "application/json")

      const body = {"message":"Welcome to COVID-19 dashboard", "dashboard": "Worldx"}

      const options = {
        method: "POST",
        headers,
        mode: "cors",
        body: JSON.stringify(body),
      }

      fetch("https://ef7cbd86416f709430f96140ca02050f.m.pipedream.net", options).then(response => {
        console.log(response)
      }).catch(err => {
        console.error("[error] " + err.message)
      })
    </script>

    <script>
      // var d = new Date();
      var d = new Date('2020-11-01 11:43:00').toString();
      document.querySelector("#updated_at").innerHTML = d;
      document.querySelector("#app_version").innerHTML = "Ver 3.0.1";
    </script>
    
    <script>
      var _theframe_dashboard = document.getElementById("dashboard");
      _theframe_dashboard.contentWindow.location.href = _theframe_dashboard.src;
      
      function reload_iframe() {
        document.getElementById('dashboard_netStat').src += '';
        document.getElementById('dashboard').src += '';
        
        // --------------------------------
        
        const headers = new Headers()
        headers.append("Content-Type", "application/json")

        const body = {"message":"Welcome to COVID-19 dashboard", "dashboard": "Worldx.reload"}

        const options = {
          method: "POST",
          headers,
          mode: "cors",
          body: JSON.stringify(body),
        }

        fetch("https://ef7cbd86416f709430f96140ca02050f.m.pipedream.net", options).then(response => {
          console.log(response)
        }).catch(err => {
          console.error("[error] " + err.message)
        })
      }
    </script>
    
  </body>
</html>
